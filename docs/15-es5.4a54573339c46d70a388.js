(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"1QnK":function(n,e,t){"use strict";t.r(e);var l=t("CcnG"),o=function(){return function(){}}(),i=t("pMnS"),r=t("oBZk"),a=t("ZZ/e"),u=t("gIcY"),s=t("Ip0R"),c=t("mrSG"),h=function(){function n(n,e,t){this.googleChartsVersion=e,this.mapsApiKey=t,this.googleScriptLoadingNotifier=new l.m,this.googleScriptIsLoading=!1,this.localeId=n,null===this.googleChartsVersion&&(this.googleChartsVersion="46")}return n.prototype.load=function(n){var e=this;return new Promise(function(t,l){void 0===t&&(t=Function.prototype),void 0===l&&(l=Function.prototype),e.loadGoogleChartsScript().then(function(){var l={language:e.localeId,callback:t,packages:n};e.mapsApiKey&&(l.mapsApiKey=e.mapsApiKey),google.charts.load(e.googleChartsVersion,l)}).catch(function(n){return l()})})},n.prototype.loadGoogleChartsScript=function(){var n=this;return new Promise(function(e,t){if(void 0===e&&(e=Function.prototype),void 0===t&&(t=Function.prototype),"undefined"!=typeof google&&google.charts)e();else if(n.googleScriptIsLoading)n.googleScriptLoadingNotifier.subscribe(function(n){n?e():t()});else{n.googleScriptIsLoading=!0;var l=document.createElement("script");l.type="text/javascript",l.src="https://www.gstatic.com/charts/loader.js",l.async=!0,l.defer=!0,l.onload=function(){n.googleScriptIsLoading=!1,n.googleScriptLoadingNotifier.emit(!0),e()},l.onerror=function(){n.googleScriptIsLoading=!1,n.googleScriptLoadingNotifier.emit(!1),t()},document.getElementsByTagName("head")[0].appendChild(l)}})},n}(),p=function(){function n(n){this.tooltipDOMElement=n}return n.prototype.setPosition=function(e,t){this.tooltipDOMElement.nativeElement.style.left=e+n.PIXELS,this.tooltipDOMElement.nativeElement.style.top=t+n.PIXELS},n.prototype.getDOMElement=function(){return this.tooltipDOMElement},n.PIXELS="px",n}(),d=function(){function n(n,e){var t=this;this.mouseOverListener=function(n){var e=t.parseMouseEvent(n);return e.tooltip=t.getHTMLTooltip(),e},this.mouseOutListener=function(n){return t.parseMouseEvent(n)},this.selectListener=function(){var n={message:"select",row:null,column:null,selectedRowValues:[],selectedRowFormattedValues:[],columnLabel:""},e=t.wrapper.visualization.getSelection(),l=e[e.length-1];if(!l)return n.message="deselect",n;var o=l;if(null!=l.row){n.row=o.row;for(var i=[],r=[],a=t.wrapper.getDataTable(),u=a.getNumberOfColumns(),s=0;s<u;s++)i.push(a.getValue(o.row,s)),r.push(a.getFormattedValue(o.row,s));n.selectedRowValues=i,n.selectedRowFormattedValues=r}return null!=o.column&&(n.column=o.column,n.columnLabel=t.getColumnLabelAtPosition(o)),l.name&&(n.columnLabel=l.name),n},this.el=n,this.loaderService=e,this.chartSelect=new l.m,this.chartSelectOneTime=new l.m,this.chartReady=new l.m,this.chartReadyOneTime=new l.m,this.chartError=new l.m,this.chartErrorOneTime=new l.m,this.mouseOver=new l.m,this.mouseOverOneTime=new l.m,this.mouseOut=new l.m,this.mouseOutOneTime=new l.m}return n.prototype.ngOnChanges=function(n){var e=this;if(n.data){if(!this.data)return;this.options=this.data.options,this.options||(this.options={}),this.data.component=this,this.loaderService.load().then(function(){void 0!==e.wrapper&&e.wrapper.getChartType()===e.data.chartType||(e.convertOptions(),e.data.opt_firstRowIsData&&Array.isArray(e.data.dataTable)&&(e.data.dataTable=google.visualization.arrayToDataTable(e.data.dataTable,!0)),e.wrapper=new google.visualization.ChartWrapper(e.data),e.registerChartWrapperEvents()),e.draw()})}},n.prototype.draw=function(){this.wrapper.setDataTable(this.data.dataTable),this.convertOptions(),this.wrapper.setOptions(this.options),this.reformat(),this.wrapper.draw(this.el.nativeElement.querySelector("div"))},n.prototype.reformat=function(){if(this.data&&void 0!==this.data.formatters)for(var n=0,e=this.data.formatters;n<e.length;n++){var t=e[n],l=google.visualization[t.type],o=t.options,i=new l(o);if("ColorFormat"===t.type&&o)for(var r=0,a=o.ranges;r<a.length;r++){var u=a[r];void 0!==u.fromBgColor&&void 0!==u.toBgColor?i.addGradientRange(u.from,u.to,u.color,u.fromBgColor,u.toBgColor):i.addRange(u.from,u.to,u.color,u.bgcolor)}for(var s=this.wrapper.getDataTable(),c=0,h=t.columns;c<h.length;c++)i.format(s,h[c])}},n.prototype.getSelectorBySeriesType=function(n){return{bars:"bar#%s#%r",haxis:"hAxis#0#label",line:"point#%s#%r",legend:"legendentry#%s",area:"point#%s#%r"}[n]},n.prototype.getSeriesByColumn=function(n){for(var e=0,t=this.wrapper.getDataTable(),l=n-1;l>=0;l--){var o=t.getColumnRole(l),i=t.getColumnType(l);"data"!==o&&"number"!==i||e++}return e},n.prototype.getBoundingBoxForItem=function(n){var e={top:0,left:0,width:0,height:0};if(this.cli){var t=n.column,l=this.getSeriesByColumn(t),o=n.row,i=this.options.seriesType;if(this.options.series&&this.options.series[l]&&this.options.series[l].type&&(i=this.options.series[l].type),i){var r=this.getSelectorBySeriesType(i);if(r){r=r.replace("%s",l+"").replace("%c",t+"").replace("%r",o+"");var a=this.cli.getBoundingBox(r);a&&(e=a)}}}return e},n.prototype.getValueAtPosition=function(n){return null==n.row?null:this.wrapper.getDataTable().getValue(n.row,n.column)},n.prototype.getColumnTypeAtPosition=function(n){return this.wrapper.getDataTable().getColumnType(n.column)||""},n.prototype.getColumnLabelAtPosition=function(n){return this.wrapper.getDataTable().getColumnLabel(n.column)||""},n.prototype.getHTMLTooltip=function(){var n=new l.k(this.el.nativeElement.querySelector(".google-visualization-tooltip"));return new p(n)},n.prototype.parseMouseEvent=function(n){var e=this.wrapper.getChartType(),t=n.column;if(null==t)switch(e){case"Timeline":t=3===this.wrapper.getDataTable().getNumberOfColumns()?0:1;break;default:t=0}var l={row:n.row,column:t};return{position:n,boundingBox:this.getBoundingBoxForItem(l),value:this.getValueAtPosition(l),columnType:this.getColumnTypeAtPosition(l),columnLabel:this.getColumnLabelAtPosition(l)}},n.prototype.unregisterEvents=function(){google.visualization.events.removeAllListeners(this.wrapper.getChart()),google.visualization.events.removeAllListeners(this.wrapper)},n.prototype.registerChartEvents=function(){var n=this,e=this.wrapper.getChart();this.cli=e.getChartLayoutInterface?e.getChartLayoutInterface():null,this.mouseOver.observers.length>0&&google.visualization.events.addListener(e,"onmouseover",function(e){var t=n.parseMouseEvent(e);t.tooltip=n.getHTMLTooltip(),n.mouseOver.emit(t)}),this.mouseOverOneTime.observers.length>0&&google.visualization.events.addOneTimeListener(e,"onmouseover",function(e){var t=n.parseMouseEvent(e);t.tooltip=n.getHTMLTooltip(),n.mouseOverOneTime.emit(t)}),this.mouseOut.observers.length>0&&google.visualization.events.addListener(e,"onmouseout",function(e){var t=n.parseMouseEvent(e);n.mouseOut.emit(t)}),this.mouseOutOneTime.observers.length>0&&google.visualization.events.addOneTimeListener(e,"onmouseout",function(e){var t=n.parseMouseEvent(e);n.mouseOutOneTime.emit(t)})},n.prototype.registerChartWrapperEvents=function(){var n=this;google.visualization.events.addListener(this.wrapper,"ready",function(){n.chartReady.emit({message:"Chart ready"})}),google.visualization.events.addOneTimeListener(this.wrapper,"ready",function(){n.chartReadyOneTime.emit({message:"Chart ready (one time)"}),n.registerChartEvents()}),google.visualization.events.addListener(this.wrapper,"error",function(e){n.chartError.emit(e)}),google.visualization.events.addOneTimeListener(this.wrapper,"error",function(e){n.chartErrorOneTime.emit(e)}),this.addListener(this.wrapper,"select",this.selectListener,this.chartSelect),this.addOneTimeListener(this.wrapper,"select",this.selectListener,this.chartSelectOneTime)},n.prototype.addListener=function(n,e,t,l){google.visualization.events.addListener(n,e,function(){l.emit(t())})},n.prototype.addOneTimeListener=function(n,e,t,l){google.visualization.events.addOneTimeListener(n,e,function(){l.emit(t())})},n.prototype.convertOptions=function(){try{this.options=google.charts[this.data.chartType].convertOptions(this.options)}catch(n){return}},n}(),g=l.qb({encapsulation:2,styles:[],data:{}});function b(n){return l.Jb(2,[(n()(),l.sb(0,0,null,null,0,"div",[],null,null,null,null,null))],null,null)}var f=t("dKRk"),m=function(){function n(n,e){this.apiJai=n,this.loadingController=e,this.dates=[],this.locations=[],this.trabalhos=[],this.trabalhosFiltered=[],this.loading=null}return n.prototype.ngOnInit=function(){this.presentLoading(),this.updateDays()},n.prototype.presentLoading=function(){return c.b(this,void 0,void 0,function(){var n;return c.e(this,function(e){switch(e.label){case 0:return n=this,[4,this.loadingController.create({message:"Carregando..."})];case 1:return n.loading=e.sent(),[4,this.loading.present()];case 2:return e.sent(),[2]}})})},n.prototype.updateDays=function(){var n=this;this.apiJai.getDays().then(function(e){console.log(e),e&&(n.dates=e,n.dateModel=n.dates[0],n.updateTrabalhos())},function(n){console.log(n)})},n.prototype.updateTrabalhos=function(){var n=this;this.apiJai.getValuesByDay(this.dateModel).then(function(e){n.locations=e.map(function(n){return n[9]}).filter(function(n,e,t){return t.indexOf(n)===e}).sort(),n.trabalhos=e,n.filterTrabalhos()})},n.prototype.filterTrabalhos=function(){var n=this;this.trabalhosFiltered=this.trabalhos.slice(),this.locationModel&&(this.trabalhosFiltered=this.trabalhosFiltered.filter(function(e){return e[9]===n.locationModel})),this.loadChart()},n.prototype.clearFilter=function(){this.locationModel=null,this.trabalhosFiltered=this.trabalhos.slice()},n.prototype.loadChart=function(){var n=this;this.apiJai.getAvaliacoes().then(function(e){n.apiJai.getCheck().then(function(t){var l=0,o=0,i=0;n.trabalhosFiltered.map(function(n){e.findIndex(function(e){return e[0]===n[2]})>-1?l+=1:t.findIndex(function(e){return e[0]===n[1]})>-1?i+=1:o+=1}),n.trabalhosChart={chartType:"PieChart",dataTable:[["Estado","Trabalhos"],["Avaliado",l],["N\xe3o Avaliado",o],["Em Andamento",i]],options:{width:380,colors:["#32CD32","#FF0000","#FFA500"]}};var r=n.trabalhosFiltered.map(function(n){return n[1]}).filter(function(n,e,t){return t.indexOf(n)===e}),a=t.filter(function(e,t,l){return e[2]===n.dateModel&&l.findIndex(function(n){return n[2]===e[2]})>-1}).map(function(n){return n[0]}).filter(function(n,e,t){return t.indexOf(n)===e}),u=t.filter(function(e,t,l){return e[2]===n.dateModel&&"in-sub"===e[4]&&l.findIndex(function(n){return n[2]===e[2]})>-1}).map(function(n){return n[0]}).filter(function(n,e,t){return t.indexOf(n)===e}),s=r.length,c=u.length,h=0;console.log(r),console.log("avaliadores presentes"+a),a.map(function(n){r.indexOf(n)>-1&&(h+=1)}),n.avaliadoresChart={chartType:"PieChart",dataTable:[["Check-in","Avaliadores"],["Efetuado",h-c],["Efetuado - Substituto",c],["N\xe3o Efetuado",s-h]],options:{width:380,colors:["#32CD32","#033DFC","#FF0000"]}},n.loading&&n.loading.dismiss()})})},n}(),v=l.qb({encapsulation:0,styles:[[""]],data:{}});function C(n){return l.Jb(0,[(n()(),l.sb(0,0,null,null,2,"ion-select-option",[],null,null,null,r.L,r.q)),l.rb(1,49152,null,0,a.lb,[l.h,l.k,l.z],{value:[0,"value"]},null),(n()(),l.Ib(2,0,["",""]))],function(n,e){n(e,1,0,l.wb(1,"",e.context.$implicit,""))},function(n,e){n(e,2,0,e.context.$implicit)})}function y(n){return l.Jb(0,[(n()(),l.sb(0,0,null,null,2,"ion-select-option",[],null,null,null,r.L,r.q)),l.rb(1,49152,null,0,a.lb,[l.h,l.k,l.z],{value:[0,"value"]},null),(n()(),l.Ib(2,0,["",""]))],function(n,e){n(e,1,0,l.wb(1,"",e.context.$implicit,""))},function(n,e){n(e,2,0,e.context.$implicit)})}function w(n){return l.Jb(0,[(n()(),l.sb(0,0,null,null,6,"ion-header",[],null,null,null,r.E,r.i)),l.rb(1,49152,null,0,a.z,[l.h,l.k,l.z],null,null),(n()(),l.sb(2,0,null,0,4,"ion-toolbar",[["color","primary"]],null,null,null,r.R,r.v)),l.rb(3,49152,null,0,a.zb,[l.h,l.k,l.z],{color:[0,"color"]},null),(n()(),l.sb(4,0,null,0,2,"ion-title",[],null,null,null,r.Q,r.u)),l.rb(5,49152,null,0,a.xb,[l.h,l.k,l.z],null,null),(n()(),l.Ib(-1,0,["Gr\xe1ficos"])),(n()(),l.sb(7,0,null,null,57,"ion-content",[],null,null,null,r.D,r.h)),l.rb(8,49152,null,0,a.s,[l.h,l.k,l.z],null,null),(n()(),l.sb(9,0,null,0,33,"div",[["class","ion-padding"]],null,null,null,null,null)),(n()(),l.sb(10,0,null,null,29,"ion-list",[],null,null,null,r.J,r.n)),l.rb(11,49152,null,0,a.M,[l.h,l.k,l.z],null,null),(n()(),l.sb(12,0,null,0,13,"ion-item",[],null,null,null,r.H,r.l)),l.rb(13,49152,null,0,a.F,[l.h,l.k,l.z],null,null),(n()(),l.sb(14,0,null,0,2,"ion-label",[],null,null,null,r.I,r.m)),l.rb(15,49152,null,0,a.L,[l.h,l.k,l.z],null,null),(n()(),l.Ib(-1,0,["Data"])),(n()(),l.sb(17,0,null,0,8,"ion-select",[["placeholder","Selecione uma data"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionChange"],[null,"ionBlur"]],function(n,e,t){var o=!0,i=n.component;return"ionBlur"===e&&(o=!1!==l.Eb(n,18)._handleBlurEvent(t.target)&&o),"ionChange"===e&&(o=!1!==l.Eb(n,18)._handleChangeEvent(t.target)&&o),"ngModelChange"===e&&(o=!1!==(i.dateModel=t)&&o),"ionChange"===e&&(o=!1!==i.updateTrabalhos()&&o),o},r.M,r.p)),l.rb(18,16384,null,0,a.Ib,[l.k],null,null),l.Fb(1024,null,u.b,function(n){return[n]},[a.Ib]),l.rb(20,671744,null,0,u.e,[[8,null],[8,null],[8,null],[6,u.b]],{model:[0,"model"]},{update:"ngModelChange"}),l.Fb(2048,null,u.c,null,[u.e]),l.rb(22,16384,null,0,u.d,[[4,u.c]],null,null),l.rb(23,49152,null,0,a.kb,[l.h,l.k,l.z],{placeholder:[0,"placeholder"]},null),(n()(),l.hb(16777216,null,0,1,null,C)),l.rb(25,278528,null,0,s.h,[l.N,l.K,l.s],{ngForOf:[0,"ngForOf"]},null),(n()(),l.sb(26,0,null,0,13,"ion-item",[],null,null,null,r.H,r.l)),l.rb(27,49152,null,0,a.F,[l.h,l.k,l.z],null,null),(n()(),l.sb(28,0,null,0,2,"ion-label",[],null,null,null,r.I,r.m)),l.rb(29,49152,null,0,a.L,[l.h,l.k,l.z],null,null),(n()(),l.Ib(-1,0,["Local"])),(n()(),l.sb(31,0,null,0,8,"ion-select",[["placeholder","Selecione um local"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionChange"],[null,"ionBlur"]],function(n,e,t){var o=!0,i=n.component;return"ionBlur"===e&&(o=!1!==l.Eb(n,32)._handleBlurEvent(t.target)&&o),"ionChange"===e&&(o=!1!==l.Eb(n,32)._handleChangeEvent(t.target)&&o),"ngModelChange"===e&&(o=!1!==(i.locationModel=t)&&o),"ionChange"===e&&(o=!1!==i.filterTrabalhos()&&o),o},r.M,r.p)),l.rb(32,16384,null,0,a.Ib,[l.k],null,null),l.Fb(1024,null,u.b,function(n){return[n]},[a.Ib]),l.rb(34,671744,null,0,u.e,[[8,null],[8,null],[8,null],[6,u.b]],{model:[0,"model"]},{update:"ngModelChange"}),l.Fb(2048,null,u.c,null,[u.e]),l.rb(36,16384,null,0,u.d,[[4,u.c]],null,null),l.rb(37,49152,null,0,a.kb,[l.h,l.k,l.z],{placeholder:[0,"placeholder"]},null),(n()(),l.hb(16777216,null,0,1,null,y)),l.rb(39,278528,null,0,s.h,[l.N,l.K,l.s],{ngForOf:[0,"ngForOf"]},null),(n()(),l.sb(40,0,null,null,2,"ion-button",[["color","primary"],["expand","block"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.clearFilter()&&l),l},r.x,r.b)),l.rb(41,49152,null,0,a.i,[l.h,l.k,l.z],{color:[0,"color"],expand:[1,"expand"]},null),(n()(),l.Ib(-1,0,["Limpar filtro"])),(n()(),l.sb(43,0,null,0,10,"ion-card",[["class","welcome-card"]],null,null,null,r.C,r.d)),l.rb(44,49152,null,0,a.k,[l.h,l.k,l.z],null,null),(n()(),l.sb(45,0,null,0,4,"ion-card-header",[],null,null,null,r.A,r.f)),l.rb(46,49152,null,0,a.m,[l.h,l.k,l.z],null,null),(n()(),l.sb(47,0,null,0,2,"ion-card-title",[],null,null,null,r.B,r.g)),l.rb(48,49152,null,0,a.o,[l.h,l.k,l.z],null,null),(n()(),l.Ib(-1,0,["Trabalhos Avaliados"])),(n()(),l.sb(50,0,null,0,3,"ion-card-content",[],null,null,null,r.z,r.e)),l.rb(51,49152,null,0,a.l,[l.h,l.k,l.z],null,null),(n()(),l.sb(52,0,null,0,1,"google-chart",[],null,null,null,b,g)),l.rb(53,573440,null,0,d,[l.k,h],{data:[0,"data"]},null),(n()(),l.sb(54,0,null,0,10,"ion-card",[["class","welcome-card"]],null,null,null,r.C,r.d)),l.rb(55,49152,null,0,a.k,[l.h,l.k,l.z],null,null),(n()(),l.sb(56,0,null,0,4,"ion-card-header",[],null,null,null,r.A,r.f)),l.rb(57,49152,null,0,a.m,[l.h,l.k,l.z],null,null),(n()(),l.sb(58,0,null,0,2,"ion-card-title",[],null,null,null,r.B,r.g)),l.rb(59,49152,null,0,a.o,[l.h,l.k,l.z],null,null),(n()(),l.Ib(-1,0,["Check-in Avaliadores"])),(n()(),l.sb(61,0,null,0,3,"ion-card-content",[],null,null,null,r.z,r.e)),l.rb(62,49152,null,0,a.l,[l.h,l.k,l.z],null,null),(n()(),l.sb(63,0,null,0,1,"google-chart",[],null,null,null,b,g)),l.rb(64,573440,null,0,d,[l.k,h],{data:[0,"data"]},null)],function(n,e){var t=e.component;n(e,3,0,"primary"),n(e,20,0,t.dateModel),n(e,23,0,"Selecione uma data"),n(e,25,0,t.dates),n(e,34,0,t.locationModel),n(e,37,0,"Selecione um local"),n(e,39,0,t.locations),n(e,41,0,"primary","block"),n(e,53,0,t.trabalhosChart),n(e,64,0,t.avaliadoresChart)},function(n,e){n(e,17,0,l.Eb(e,22).ngClassUntouched,l.Eb(e,22).ngClassTouched,l.Eb(e,22).ngClassPristine,l.Eb(e,22).ngClassDirty,l.Eb(e,22).ngClassValid,l.Eb(e,22).ngClassInvalid,l.Eb(e,22).ngClassPending),n(e,31,0,l.Eb(e,36).ngClassUntouched,l.Eb(e,36).ngClassTouched,l.Eb(e,36).ngClassPristine,l.Eb(e,36).ngClassDirty,l.Eb(e,36).ngClassValid,l.Eb(e,36).ngClassInvalid,l.Eb(e,36).ngClassPending)})}function T(n){return l.Jb(0,[(n()(),l.sb(0,0,null,null,1,"app-graficos",[],null,null,null,w,v)),l.rb(1,114688,null,0,m,[f.a,a.Db],null,null)],function(n,e){n(e,1,0)},null)}var E=l.ob("app-graficos",m,T,{},{},[]),O=t("ZYCi"),L=function(){return function(){}}();t.d(e,"GraficosPageModuleNgFactory",function(){return k});var k=l.pb(o,[],function(n){return l.Bb([l.Cb(512,l.j,l.ab,[[8,[i.a,E]],[3,l.j],l.x]),l.Cb(4608,s.k,s.j,[l.u,[2,s.q]]),l.Cb(4608,u.g,u.g,[]),l.Cb(4608,a.b,a.b,[l.z,l.g]),l.Cb(4608,a.Eb,a.Eb,[a.b,l.j,l.q]),l.Cb(4608,a.Hb,a.Hb,[a.b,l.j,l.q]),l.Cb(4608,h,h,[l.u,[2,"googleChartsVersion"],[2,"mapsApiKey"]]),l.Cb(1073742336,s.b,s.b,[]),l.Cb(1073742336,u.f,u.f,[]),l.Cb(1073742336,u.a,u.a,[]),l.Cb(1073742336,a.Bb,a.Bb,[]),l.Cb(1073742336,O.n,O.n,[[2,O.s],[2,O.m]]),l.Cb(1073742336,L,L,[]),l.Cb(1073742336,o,o,[]),l.Cb(1024,O.k,function(){return[[{path:"",component:m}]]},[])])})}}]);