(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"1QnK":function(n,l,e){"use strict";e.r(l);var t=e("CcnG"),o=function(){return function(){}}(),i=e("pMnS"),r=e("oBZk"),a=e("ZZ/e"),u=e("gIcY"),s=e("Ip0R"),c=(e("mrSG"),function(){function n(n,l,e){this.googleChartsVersion=l,this.mapsApiKey=e,this.googleScriptLoadingNotifier=new t.m,this.googleScriptIsLoading=!1,this.localeId=n,null===this.googleChartsVersion&&(this.googleChartsVersion="46")}return n.prototype.load=function(n){var l=this;return new Promise(function(e,t){void 0===e&&(e=Function.prototype),void 0===t&&(t=Function.prototype),l.loadGoogleChartsScript().then(function(){var t={language:l.localeId,callback:e,packages:n};l.mapsApiKey&&(t.mapsApiKey=l.mapsApiKey),google.charts.load(l.googleChartsVersion,t)}).catch(function(n){return t()})})},n.prototype.loadGoogleChartsScript=function(){var n=this;return new Promise(function(l,e){if(void 0===l&&(l=Function.prototype),void 0===e&&(e=Function.prototype),"undefined"!=typeof google&&google.charts)l();else if(n.googleScriptIsLoading)n.googleScriptLoadingNotifier.subscribe(function(n){n?l():e()});else{n.googleScriptIsLoading=!0;var t=document.createElement("script");t.type="text/javascript",t.src="https://www.gstatic.com/charts/loader.js",t.async=!0,t.defer=!0,t.onload=function(){n.googleScriptIsLoading=!1,n.googleScriptLoadingNotifier.emit(!0),l()},t.onerror=function(){n.googleScriptIsLoading=!1,n.googleScriptLoadingNotifier.emit(!1),e()},document.getElementsByTagName("head")[0].appendChild(t)}})},n}()),h=function(){function n(n){this.tooltipDOMElement=n}return n.prototype.setPosition=function(l,e){this.tooltipDOMElement.nativeElement.style.left=l+n.PIXELS,this.tooltipDOMElement.nativeElement.style.top=e+n.PIXELS},n.prototype.getDOMElement=function(){return this.tooltipDOMElement},n.PIXELS="px",n}(),p=function(){function n(n,l){var e=this;this.mouseOverListener=function(n){var l=e.parseMouseEvent(n);return l.tooltip=e.getHTMLTooltip(),l},this.mouseOutListener=function(n){return e.parseMouseEvent(n)},this.selectListener=function(){var n={message:"select",row:null,column:null,selectedRowValues:[],selectedRowFormattedValues:[],columnLabel:""},l=e.wrapper.visualization.getSelection(),t=l[l.length-1];if(!t)return n.message="deselect",n;var o=t;if(null!=t.row){n.row=o.row;for(var i=[],r=[],a=e.wrapper.getDataTable(),u=a.getNumberOfColumns(),s=0;s<u;s++)i.push(a.getValue(o.row,s)),r.push(a.getFormattedValue(o.row,s));n.selectedRowValues=i,n.selectedRowFormattedValues=r}return null!=o.column&&(n.column=o.column,n.columnLabel=e.getColumnLabelAtPosition(o)),t.name&&(n.columnLabel=t.name),n},this.el=n,this.loaderService=l,this.chartSelect=new t.m,this.chartSelectOneTime=new t.m,this.chartReady=new t.m,this.chartReadyOneTime=new t.m,this.chartError=new t.m,this.chartErrorOneTime=new t.m,this.mouseOver=new t.m,this.mouseOverOneTime=new t.m,this.mouseOut=new t.m,this.mouseOutOneTime=new t.m}return n.prototype.ngOnChanges=function(n){var l=this;if(n.data){if(!this.data)return;this.options=this.data.options,this.options||(this.options={}),this.data.component=this,this.loaderService.load().then(function(){void 0!==l.wrapper&&l.wrapper.getChartType()===l.data.chartType||(l.convertOptions(),l.data.opt_firstRowIsData&&Array.isArray(l.data.dataTable)&&(l.data.dataTable=google.visualization.arrayToDataTable(l.data.dataTable,!0)),l.wrapper=new google.visualization.ChartWrapper(l.data),l.registerChartWrapperEvents()),l.draw()})}},n.prototype.draw=function(){this.wrapper.setDataTable(this.data.dataTable),this.convertOptions(),this.wrapper.setOptions(this.options),this.reformat(),this.wrapper.draw(this.el.nativeElement.querySelector("div"))},n.prototype.reformat=function(){if(this.data&&void 0!==this.data.formatters)for(var n=0,l=this.data.formatters;n<l.length;n++){var e=l[n],t=google.visualization[e.type],o=e.options,i=new t(o);if("ColorFormat"===e.type&&o)for(var r=0,a=o.ranges;r<a.length;r++){var u=a[r];void 0!==u.fromBgColor&&void 0!==u.toBgColor?i.addGradientRange(u.from,u.to,u.color,u.fromBgColor,u.toBgColor):i.addRange(u.from,u.to,u.color,u.bgcolor)}for(var s=this.wrapper.getDataTable(),c=0,h=e.columns;c<h.length;c++)i.format(s,h[c])}},n.prototype.getSelectorBySeriesType=function(n){return{bars:"bar#%s#%r",haxis:"hAxis#0#label",line:"point#%s#%r",legend:"legendentry#%s",area:"point#%s#%r"}[n]},n.prototype.getSeriesByColumn=function(n){for(var l=0,e=this.wrapper.getDataTable(),t=n-1;t>=0;t--){var o=e.getColumnRole(t),i=e.getColumnType(t);"data"!==o&&"number"!==i||l++}return l},n.prototype.getBoundingBoxForItem=function(n){var l={top:0,left:0,width:0,height:0};if(this.cli){var e=n.column,t=this.getSeriesByColumn(e),o=n.row,i=this.options.seriesType;if(this.options.series&&this.options.series[t]&&this.options.series[t].type&&(i=this.options.series[t].type),i){var r=this.getSelectorBySeriesType(i);if(r){r=r.replace("%s",t+"").replace("%c",e+"").replace("%r",o+"");var a=this.cli.getBoundingBox(r);a&&(l=a)}}}return l},n.prototype.getValueAtPosition=function(n){return null==n.row?null:this.wrapper.getDataTable().getValue(n.row,n.column)},n.prototype.getColumnTypeAtPosition=function(n){return this.wrapper.getDataTable().getColumnType(n.column)||""},n.prototype.getColumnLabelAtPosition=function(n){return this.wrapper.getDataTable().getColumnLabel(n.column)||""},n.prototype.getHTMLTooltip=function(){var n=new t.k(this.el.nativeElement.querySelector(".google-visualization-tooltip"));return new h(n)},n.prototype.parseMouseEvent=function(n){var l=this.wrapper.getChartType(),e=n.column;if(null==e)switch(l){case"Timeline":e=3===this.wrapper.getDataTable().getNumberOfColumns()?0:1;break;default:e=0}var t={row:n.row,column:e};return{position:n,boundingBox:this.getBoundingBoxForItem(t),value:this.getValueAtPosition(t),columnType:this.getColumnTypeAtPosition(t),columnLabel:this.getColumnLabelAtPosition(t)}},n.prototype.unregisterEvents=function(){google.visualization.events.removeAllListeners(this.wrapper.getChart()),google.visualization.events.removeAllListeners(this.wrapper)},n.prototype.registerChartEvents=function(){var n=this,l=this.wrapper.getChart();this.cli=l.getChartLayoutInterface?l.getChartLayoutInterface():null,this.mouseOver.observers.length>0&&google.visualization.events.addListener(l,"onmouseover",function(l){var e=n.parseMouseEvent(l);e.tooltip=n.getHTMLTooltip(),n.mouseOver.emit(e)}),this.mouseOverOneTime.observers.length>0&&google.visualization.events.addOneTimeListener(l,"onmouseover",function(l){var e=n.parseMouseEvent(l);e.tooltip=n.getHTMLTooltip(),n.mouseOverOneTime.emit(e)}),this.mouseOut.observers.length>0&&google.visualization.events.addListener(l,"onmouseout",function(l){var e=n.parseMouseEvent(l);n.mouseOut.emit(e)}),this.mouseOutOneTime.observers.length>0&&google.visualization.events.addOneTimeListener(l,"onmouseout",function(l){var e=n.parseMouseEvent(l);n.mouseOutOneTime.emit(e)})},n.prototype.registerChartWrapperEvents=function(){var n=this;google.visualization.events.addListener(this.wrapper,"ready",function(){n.chartReady.emit({message:"Chart ready"})}),google.visualization.events.addOneTimeListener(this.wrapper,"ready",function(){n.chartReadyOneTime.emit({message:"Chart ready (one time)"}),n.registerChartEvents()}),google.visualization.events.addListener(this.wrapper,"error",function(l){n.chartError.emit(l)}),google.visualization.events.addOneTimeListener(this.wrapper,"error",function(l){n.chartErrorOneTime.emit(l)}),this.addListener(this.wrapper,"select",this.selectListener,this.chartSelect),this.addOneTimeListener(this.wrapper,"select",this.selectListener,this.chartSelectOneTime)},n.prototype.addListener=function(n,l,e,t){google.visualization.events.addListener(n,l,function(){t.emit(e())})},n.prototype.addOneTimeListener=function(n,l,e,t){google.visualization.events.addOneTimeListener(n,l,function(){t.emit(e())})},n.prototype.convertOptions=function(){try{this.options=google.charts[this.data.chartType].convertOptions(this.options)}catch(n){return}},n}(),d=t.qb({encapsulation:2,styles:[],data:{}});function g(n){return t.Jb(2,[(n()(),t.sb(0,0,null,null,0,"div",[],null,null,null,null,null))],null,null)}var b=e("dKRk"),m=function(){function n(n){this.apiJai=n,this.dates=[],this.locations=[],this.trabalhos=[],this.trabalhosFiltered=[]}return n.prototype.ngOnInit=function(){this.updateDays()},n.prototype.updateDays=function(){var n=this;this.apiJai.getDays().then(function(l){console.log(l),l&&(n.dates=l,n.dateModel=n.dates[0],n.updateTrabalhos())},function(n){console.log(n)})},n.prototype.updateTrabalhos=function(){var n=this;this.apiJai.getValuesByDay(this.dateModel).then(function(l){n.locations=l.map(function(n){return n[9]}).filter(function(n,l,e){return e.indexOf(n)===l}).sort(),n.trabalhos=l,n.filterTrabalhos()})},n.prototype.filterTrabalhos=function(){var n=this;this.trabalhosFiltered=this.trabalhos.slice(),this.locationModel&&(this.trabalhosFiltered=this.trabalhosFiltered.filter(function(l){return l[9]===n.locationModel})),this.loadChart()},n.prototype.clearFilter=function(){this.locationModel=null,this.trabalhosFiltered=this.trabalhos.slice()},n.prototype.loadChart=function(){var n=this;this.apiJai.getAvaliacoes().then(function(l){n.apiJai.getCheck().then(function(e){var t=0,o=0,i=0;n.trabalhosFiltered.map(function(n){l.findIndex(function(l){return l[0]===n[2]})>-1?t+=1:e.findIndex(function(l){return l[0]===n[1]})>-1?i+=1:o+=1}),n.trabalhosChart={chartType:"PieChart",dataTable:[["Estado","Trabalhos"],["Avaliado",t],["N\xe3o Avaliado",o],["Em Andamento",i]],options:{width:380,colors:["#32CD32","#FF0000","#FFA500"]}};var r=n.trabalhosFiltered.map(function(n){return n[1]}).filter(function(n,l,e){return e.indexOf(n)===l}),a=e.filter(function(l,e,t){return l[2]===n.dateModel&&t.findIndex(function(n){return n[2]===l[2]})>-1}).map(function(n){return n[0]}).filter(function(n,l,e){return e.indexOf(n)===l}),u=r.length,s=0;console.log(r),console.log("avaliadores presentes"+a),a.map(function(n){r.indexOf(n)>-1&&(s+=1)}),n.avaliadoresChart={chartType:"PieChart",dataTable:[["Check-in","Avaliadores"],["Efetuado",s],["N\xe3o Efetuado",u-s]],options:{width:380,colors:["#32CD32","#FF0000"]}}})})},n}(),f=t.qb({encapsulation:0,styles:[[""]],data:{}});function v(n){return t.Jb(0,[(n()(),t.sb(0,0,null,null,2,"ion-select-option",[],null,null,null,r.H,r.o)),t.rb(1,49152,null,0,a.kb,[t.h,t.k,t.z],{value:[0,"value"]},null),(n()(),t.Ib(2,0,["",""]))],function(n,l){n(l,1,0,t.wb(1,"",l.context.$implicit,""))},function(n,l){n(l,2,0,l.context.$implicit)})}function y(n){return t.Jb(0,[(n()(),t.sb(0,0,null,null,2,"ion-select-option",[],null,null,null,r.H,r.o)),t.rb(1,49152,null,0,a.kb,[t.h,t.k,t.z],{value:[0,"value"]},null),(n()(),t.Ib(2,0,["",""]))],function(n,l){n(l,1,0,t.wb(1,"",l.context.$implicit,""))},function(n,l){n(l,2,0,l.context.$implicit)})}function C(n){return t.Jb(0,[(n()(),t.sb(0,0,null,null,6,"ion-header",[],null,null,null,r.B,r.h)),t.rb(1,49152,null,0,a.y,[t.h,t.k,t.z],null,null),(n()(),t.sb(2,0,null,0,4,"ion-toolbar",[["color","primary"]],null,null,null,r.N,r.t)),t.rb(3,49152,null,0,a.yb,[t.h,t.k,t.z],{color:[0,"color"]},null),(n()(),t.sb(4,0,null,0,2,"ion-title",[],null,null,null,r.M,r.s)),t.rb(5,49152,null,0,a.wb,[t.h,t.k,t.z],null,null),(n()(),t.Ib(-1,0,["Gr\xe1ficos"])),(n()(),t.sb(7,0,null,null,57,"ion-content",[],null,null,null,r.A,r.g)),t.rb(8,49152,null,0,a.r,[t.h,t.k,t.z],null,null),(n()(),t.sb(9,0,null,0,33,"div",[["class","ion-padding"]],null,null,null,null,null)),(n()(),t.sb(10,0,null,null,29,"ion-list",[],null,null,null,r.F,r.l)),t.rb(11,49152,null,0,a.L,[t.h,t.k,t.z],null,null),(n()(),t.sb(12,0,null,0,13,"ion-item",[],null,null,null,r.D,r.j)),t.rb(13,49152,null,0,a.E,[t.h,t.k,t.z],null,null),(n()(),t.sb(14,0,null,0,2,"ion-label",[],null,null,null,r.E,r.k)),t.rb(15,49152,null,0,a.K,[t.h,t.k,t.z],null,null),(n()(),t.Ib(-1,0,["Data"])),(n()(),t.sb(17,0,null,0,8,"ion-select",[["placeholder","Selecione uma data"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionChange"],[null,"ionBlur"]],function(n,l,e){var o=!0,i=n.component;return"ionBlur"===l&&(o=!1!==t.Eb(n,18)._handleBlurEvent(e.target)&&o),"ionChange"===l&&(o=!1!==t.Eb(n,18)._handleChangeEvent(e.target)&&o),"ngModelChange"===l&&(o=!1!==(i.dateModel=e)&&o),"ionChange"===l&&(o=!1!==i.updateTrabalhos()&&o),o},r.I,r.n)),t.rb(18,16384,null,0,a.Gb,[t.k],null,null),t.Fb(1024,null,u.b,function(n){return[n]},[a.Gb]),t.rb(20,671744,null,0,u.e,[[8,null],[8,null],[8,null],[6,u.b]],{model:[0,"model"]},{update:"ngModelChange"}),t.Fb(2048,null,u.c,null,[u.e]),t.rb(22,16384,null,0,u.d,[[4,u.c]],null,null),t.rb(23,49152,null,0,a.jb,[t.h,t.k,t.z],{placeholder:[0,"placeholder"]},null),(n()(),t.hb(16777216,null,0,1,null,v)),t.rb(25,278528,null,0,s.h,[t.N,t.K,t.s],{ngForOf:[0,"ngForOf"]},null),(n()(),t.sb(26,0,null,0,13,"ion-item",[],null,null,null,r.D,r.j)),t.rb(27,49152,null,0,a.E,[t.h,t.k,t.z],null,null),(n()(),t.sb(28,0,null,0,2,"ion-label",[],null,null,null,r.E,r.k)),t.rb(29,49152,null,0,a.K,[t.h,t.k,t.z],null,null),(n()(),t.Ib(-1,0,["Local"])),(n()(),t.sb(31,0,null,0,8,"ion-select",[["placeholder","Selecione um local"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionChange"],[null,"ionBlur"]],function(n,l,e){var o=!0,i=n.component;return"ionBlur"===l&&(o=!1!==t.Eb(n,32)._handleBlurEvent(e.target)&&o),"ionChange"===l&&(o=!1!==t.Eb(n,32)._handleChangeEvent(e.target)&&o),"ngModelChange"===l&&(o=!1!==(i.locationModel=e)&&o),"ionChange"===l&&(o=!1!==i.filterTrabalhos()&&o),o},r.I,r.n)),t.rb(32,16384,null,0,a.Gb,[t.k],null,null),t.Fb(1024,null,u.b,function(n){return[n]},[a.Gb]),t.rb(34,671744,null,0,u.e,[[8,null],[8,null],[8,null],[6,u.b]],{model:[0,"model"]},{update:"ngModelChange"}),t.Fb(2048,null,u.c,null,[u.e]),t.rb(36,16384,null,0,u.d,[[4,u.c]],null,null),t.rb(37,49152,null,0,a.jb,[t.h,t.k,t.z],{placeholder:[0,"placeholder"]},null),(n()(),t.hb(16777216,null,0,1,null,y)),t.rb(39,278528,null,0,s.h,[t.N,t.K,t.s],{ngForOf:[0,"ngForOf"]},null),(n()(),t.sb(40,0,null,null,2,"ion-button",[["color","primary"],["expand","block"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.clearFilter()&&t),t},r.v,r.b)),t.rb(41,49152,null,0,a.h,[t.h,t.k,t.z],{color:[0,"color"],expand:[1,"expand"]},null),(n()(),t.Ib(-1,0,["Limpar filtro"])),(n()(),t.sb(43,0,null,0,10,"ion-card",[["class","welcome-card"]],null,null,null,r.z,r.c)),t.rb(44,49152,null,0,a.j,[t.h,t.k,t.z],null,null),(n()(),t.sb(45,0,null,0,4,"ion-card-header",[],null,null,null,r.x,r.e)),t.rb(46,49152,null,0,a.l,[t.h,t.k,t.z],null,null),(n()(),t.sb(47,0,null,0,2,"ion-card-title",[],null,null,null,r.y,r.f)),t.rb(48,49152,null,0,a.n,[t.h,t.k,t.z],null,null),(n()(),t.Ib(-1,0,["Trabalhos Avaliados"])),(n()(),t.sb(50,0,null,0,3,"ion-card-content",[],null,null,null,r.w,r.d)),t.rb(51,49152,null,0,a.k,[t.h,t.k,t.z],null,null),(n()(),t.sb(52,0,null,0,1,"google-chart",[],null,null,null,g,d)),t.rb(53,573440,null,0,p,[t.k,c],{data:[0,"data"]},null),(n()(),t.sb(54,0,null,0,10,"ion-card",[["class","welcome-card"]],null,null,null,r.z,r.c)),t.rb(55,49152,null,0,a.j,[t.h,t.k,t.z],null,null),(n()(),t.sb(56,0,null,0,4,"ion-card-header",[],null,null,null,r.x,r.e)),t.rb(57,49152,null,0,a.l,[t.h,t.k,t.z],null,null),(n()(),t.sb(58,0,null,0,2,"ion-card-title",[],null,null,null,r.y,r.f)),t.rb(59,49152,null,0,a.n,[t.h,t.k,t.z],null,null),(n()(),t.Ib(-1,0,["Check-in Avaliadores"])),(n()(),t.sb(61,0,null,0,3,"ion-card-content",[],null,null,null,r.w,r.d)),t.rb(62,49152,null,0,a.k,[t.h,t.k,t.z],null,null),(n()(),t.sb(63,0,null,0,1,"google-chart",[],null,null,null,g,d)),t.rb(64,573440,null,0,p,[t.k,c],{data:[0,"data"]},null)],function(n,l){var e=l.component;n(l,3,0,"primary"),n(l,20,0,e.dateModel),n(l,23,0,"Selecione uma data"),n(l,25,0,e.dates),n(l,34,0,e.locationModel),n(l,37,0,"Selecione um local"),n(l,39,0,e.locations),n(l,41,0,"primary","block"),n(l,53,0,e.trabalhosChart),n(l,64,0,e.avaliadoresChart)},function(n,l){n(l,17,0,t.Eb(l,22).ngClassUntouched,t.Eb(l,22).ngClassTouched,t.Eb(l,22).ngClassPristine,t.Eb(l,22).ngClassDirty,t.Eb(l,22).ngClassValid,t.Eb(l,22).ngClassInvalid,t.Eb(l,22).ngClassPending),n(l,31,0,t.Eb(l,36).ngClassUntouched,t.Eb(l,36).ngClassTouched,t.Eb(l,36).ngClassPristine,t.Eb(l,36).ngClassDirty,t.Eb(l,36).ngClassValid,t.Eb(l,36).ngClassInvalid,t.Eb(l,36).ngClassPending)})}function w(n){return t.Jb(0,[(n()(),t.sb(0,0,null,null,1,"app-graficos",[],null,null,null,C,f)),t.rb(1,114688,null,0,m,[b.a],null,null)],function(n,l){n(l,1,0)},null)}var T=t.ob("app-graficos",m,w,{},{},[]),E=e("ZYCi"),O=function(){return function(){}}();e.d(l,"GraficosPageModuleNgFactory",function(){return L});var L=t.pb(o,[],function(n){return t.Bb([t.Cb(512,t.j,t.ab,[[8,[i.a,T]],[3,t.j],t.x]),t.Cb(4608,s.j,s.i,[t.u,[2,s.p]]),t.Cb(4608,u.g,u.g,[]),t.Cb(4608,a.a,a.a,[t.z,t.g]),t.Cb(4608,a.Cb,a.Cb,[a.a,t.j,t.q]),t.Cb(4608,a.Fb,a.Fb,[a.a,t.j,t.q]),t.Cb(4608,c,c,[t.u,[2,"googleChartsVersion"],[2,"mapsApiKey"]]),t.Cb(1073742336,s.b,s.b,[]),t.Cb(1073742336,u.f,u.f,[]),t.Cb(1073742336,u.a,u.a,[]),t.Cb(1073742336,a.Ab,a.Ab,[]),t.Cb(1073742336,E.n,E.n,[[2,E.s],[2,E.m]]),t.Cb(1073742336,O,O,[]),t.Cb(1073742336,o,o,[]),t.Cb(1024,E.k,function(){return[[{path:"",component:m}]]},[])])})}}]);